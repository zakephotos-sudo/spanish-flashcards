<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Spanish Flashcards</title>

<style>
body {
  font-family: -apple-system;
  background: #111;
  color: white;
  margin: 0;
  text-align: center;
}

.screen { padding: 20px; }

button {
  width: 100%;
  padding: 14px;
  margin: 8px 0;
  font-size: 16px;
  border: none;
  border-radius: 12px;
  background: #222;
  color: white;
}

.card {
  background: #1c1c22;
  padding: 60px 20px;
  font-size: 28px;
  border-radius: 20px;
  margin-top: 40px;
}

.topbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
</style>
</head>

<body>

<div class="screen">

  <div class="topbar">
    <div id="counter">Loading...</div>
  </div>

  <div id="card" class="card">Loading...</div>

  <button onclick="flipCard()">Flip</button>
  <button onclick="prevCard()">Prev</button>
  <button onclick="nextCard()">Next</button>
  <button onclick="shuffle()">ðŸ”€ Shuffle</button>

</div>

<script>
let words = [];
let current = 0;
let flipped = false;

fetch("words.json")
.then(r=>r.json())
.then(data=>{
  words = data;
  shuffle();
});

function updateCard(){
  if(!words.length){
    document.getElementById("card").textContent = "No words found.";
    return;
  }

  const word = words[current];

  document.getElementById("card").textContent =
    flipped ? word.en : word.es;

  document.getElementById("counter").textContent =
    (current + 1) + " / " + words.length;
}

function flipCard(){
  flipped = !flipped;
  updateCard();
}

function nextCard(){
  current = (current + 1) % words.length;
  flipped = false;
  updateCard();
}

function prevCard(){
  current = (current - 1 + words.length) % words.length;
  flipped = false;
  updateCard();
}

function shuffle(){
  for (let i = words.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [words[i], words[j]] = [words[j], words[i]];
  }

  current = 0;
  flipped = false;
  updateCard();
}
</script>

</body>
</html>